(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{246:function(e,t,a){e.exports=a(447)},255:function(e,t,a){},419:function(e,t,a){},439:function(e,t,a){},440:function(e,t,a){},441:function(e,t,a){},442:function(e,t,a){},447:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(38),o=a.n(r),l=a(62),s=(a(255),a(104)),i=a(105),u=a(112),d=a(106),h=a(111),f=a(209),p=a.n(f),m=(a(419),a(239)),E=a.n(m),y=function(e){return function(t,a){if(console.log("inside"),console.log(a()),t({type:"SELECTED_CITY",payload:{cityName:e}}),a().banks[e])return null;t({type:"START"}),E.a.get("".concat("https://vast-shore-74260.herokuapp.com/banks?city=").concat(e)).then(function(a){console.log(a.data),t({type:"SUCCESS",payload:{data:a.data,bankCity:e}})}).catch(function(e){console.log("error: ",e),t({type:"FAILURE",payload:e})})}},C=(a(439),Object(l.b)(null,function(e){return{changeCity:function(t){return e(y(t))}}})(function(e){return c.a.createElement("div",{className:"Dropdown"},c.a.createElement("select",{className:"select-css",onChange:function(t){console.log(t.target.value),e.changeCity(t.target.value)}},e.cities.map(function(e,t){return c.a.createElement("option",{key:t},e)})))})),b=(a(440),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"SearchBar"},c.a.createElement("input",{type:"text",placeholder:"search bank by address",className:"Input",onChange:function(t){return e.props.changeHandler(t)}}))}}]),t}(c.a.Component)),g=(a(441),a(442),function(){return c.a.createElement("div",{className:"spinner"})}),v=function(e){var t=[];if(!e.data)return c.a.createElement(g,null);console.log("inside"),console.log(e.startIndex);for(var a=e.startIndex;a<e.startIndex+10;a++)-1!==e.data[a].address.toLowerCase().indexOf(e.searchText.toLowerCase())&&t.push(c.a.createElement("tr",{key:a},c.a.createElement("td",null,e.data[a].ifsc),c.a.createElement("td",null,e.data[a].bank_id),c.a.createElement("td",null,e.data[a].branch),c.a.createElement("td",null,e.data[a].address),c.a.createElement("td",null,e.data[a].bank_name)));return console.log(t),c.a.createElement("div",null,c.a.createElement("table",{id:"customers"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"IFSC"),c.a.createElement("th",null,"BANK_ID"),c.a.createElement("th",null,"BRANCH"),c.a.createElement("th",null,"ADDRESS"),c.a.createElement("th",null,"BANK_NAME"))),c.a.createElement("tbody",null,t&&t.map(function(e,t){return console.log(e),e}))))},k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={offset:0,searchText:""},a.handleClick=function(e,t,n){a.setState({offset:n})},a.searchTextHandler=function(e){a.setState({searchText:e.target.value})},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchBankDetails("MUMBAI")}},{key:"componentDidUpdate",value:function(e,t){this.state.pageCount!==t.pageCount&&this.props.selectedCityData&&this.setState({pageCount:Math.ceil(this.props.selectedCityData/10)})}},{key:"render",value:function(){var e=this;return console.log(this.state.pageCount),c.a.createElement("div",null,c.a.createElement("h1",{style:{textAlign:"center"}},"Bank Branches"),c.a.createElement("div",{className:"row"},c.a.createElement(C,{cities:["MUMBAI","DELHI","BANGALORE","CHENNAI","KOLKATA"]}),c.a.createElement(b,{changeHandler:this.searchTextHandler})),c.a.createElement(v,{data:this.props.selectedCityData,startIndex:this.state.offset,searchText:this.state.searchText}),this.props.selectedCityData&&c.a.createElement(p.a,{offset:this.state.offset,limit:10,total:Math.floor(this.props.selectedCityData.length/10),onClick:function(t,a,n){return e.handleClick(t,a,n)}}))}}]),t}(c.a.Component),O=Object(l.b)(function(e){return{selectedCityData:e.banks[e.banks.selectedCity]}},function(e){return{fetchBankDetails:function(t){return e(y(t))}}})(k),w=a(240),j=a(46),D=a(241),S=a(110),A=a(149),I={selectedCity:"MUMBAI"},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESS":return Object(A.a)({},e,Object(S.a)({},t.payload.bankCity,t.payload.data));case"SELECTED_CITY":return Object(A.a)({},e,{selectedCity:t.payload.cityName});default:return e}},T=Object(j.c)({banks:N}),x=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||j.d,B=Object(j.e)(T,x(Object(j.a)(D.a),Object(w.cacheEnhancer)({log:!0})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(l.a,{store:B},c.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[246,1,2]]]);
//# sourceMappingURL=main.9add893d.chunk.js.map